
<scroll-view bindscrolltolower="loadmore" scroll-y="true" class="container">
  <image class="user-bg" src="../assets/bg.jpg" mode="aspectFill"/>

  
  <view class="userinfo-container">
    <view class="top">
      <view class="left">
        <view class="buttons">
          <block  wx:if="{{$UserInfo$showButtons}}">
            <view class="follow button" bindtap="$UserInfo$onFollowBtn">{{ $UserInfo$follow }}</view>
            <view class="chat button" bindtap="$UserInfo$onChatBtn">私信</view>
          </block>
        </view>

        <text class="username">{{ $UserInfo$userInfo ? $UserInfo$userInfo.nickname : '' }}</text>
      </view>
      <image class="user-avatar" src="{{ $UserInfo$userInfo && $UserInfo$userInfo.photo }}"/>
    </view>

    <view class="bottom">
      <text class="text">{{ $UserInfo$disease }}</text>
      <text class="{{ $UserInfo$gender === '♂' ? 'text male' : 'text female' }}">{{ $UserInfo$gender }}</text>
      <text>{{ $UserInfo$age }}</text>
      <text class="text">上海</text>
    </view>
  </view>


  
<view  wx:for="{{ $Detail$list }}" class="detail-item" wx:for-index="index" wx:key="index" wx:for-item="detail">

  <view class="left">
    <view wx:if="{{ detail.date.isSpec }}" class="spec">{{ detail.date.text }}</view>
    <view wx:else>
      <text class="day">{{ detail.date.day }}</text>
      <text class="month">{{ detail.date.month }}月</text>
    </view>
  </view>

  <view class="right">
    <block wx:for="{{ detail.data }}" wx:for-index="index" wx:key="index" wx:for-item="item">

      <view class="report">
        <block wx:if="{{ item.type === 'blood' }}">
          <view>
            <text>今日血压：</text>
            <text style="color:{{ item.value[0].textColor }}">{{ item.value[0].value }}</text>
            <text> / </text>
            <text style="color:{{ item.value[1].textColor }}">{{ item.value[1].value }}</text>
            <text> mmHg</text>
          </view>

          <view>
            <text>心率：</text><text style="color:{{ item.value[2].textColor }}">{{ item.value[2].value }}</text>
            <text> bpm</text>
          </view>
        </block>

        <view wx:elif="{{ item.type === 'sugar' }}">
          <text>今日血糖：</text>
          <text>{{ item.value.name }} </text>
          <text style="color: {{ item.value.textColor }}">{{ item.value.value }}</text>
          <text> mmol/L</text>
        </view>

        <block wx:elif="{{ item.type === 'weight' }}">
          <view>
            <text>今日体重：</text>
            <text style="color:{{ item.value.textColor }}">{{ item.value.value }}</text>
            <text> kg</text>
          </view>

          <view>
            <text>BMI指数：</text>
            <text style="color:{{ item.value.textColor }}">{{ item.value.para }}</text>
          </view>
        </block>

        <view wx:elif="{{ item.type === 'medindex' }}">
          <text>今日医学指标：</text>
          <text>{{ item.value.name }} </text>
          <text style="color: {{ item.value.textColor }}">{{ item.value.value }}</text>
          <text> {{ item.value.para }}</text>
        </view>
      </view>
      <view class="remark">
        {{
          item.type === 'blood' ?
            item.value[0].remarkShowText :
            item.value.remarkShowText
        }}
      </view>
    </block>
  </view>

</view>


  <view class="loading-tip">{{ noMore ? '没有更多了' :
    isLoading ? '正在加载' : '上拉加载更多' }}</view>
</scroll-view>